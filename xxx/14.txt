https://tokmakov.msk.ru/blog/item/571
админка. пользовательская валидация. заголовки

================= ПОЛЬЗОВАТЕЛЬСКИЕ ВАЛИДАТОРЫ ==================

1. добавим валидатор (текущий каталогне может себя или своих потомков назначить родителем)
(для общего развития https://laravel.su/docs/8.x/validation)

#php artisan make:rule CategoryParent     // пользовательские правила валидации
имеем app\Rules\CategoryParent

для проверки в модели новые методы

class Category extends Model {
  ...
  // Проверяет, что переданный идентификатор id может быть родителем
  // этой категории; что категорию не пытаются поместить внутрь себя
     
    public function validParent($id) {... }

// Возвращает всех потомков категории с идентификатором $id
    public function getAllChildren($id) {...}
    ...
}
--------- до конца не понятно нахеракозебаян. но да ладно.

==================== ЗАГОЛОВКИ СТРАНИЦ =============================
в лейауте (напр "layout.admin")
<head>
    <!-- ..... -->
    <title>{{ $title ?? 'Панель управления' }}</title>
    <!-- ..... -->
</head>

в шаблоне
@extends('layout.admin', ['title' => 'Все категории каталога'])

@section('content')
    <h1>Все категории</h1>
    <!-- ..... -->
@endsection

